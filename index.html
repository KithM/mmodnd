<!DOCTYPE html>
<html>
  <head>
    <title>Icycold's TTRPG Item Generator</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="math.js"></script>
    <script src="arrays.js"></script>
    <script src="items.js"></script>
    <script>
      function generate() {
        let item = generateItem();
        let resultString = '';

        if (item) {
            // Adding item name
            resultString += `${item.name || 'Unnamed Item'}<br>`;
            // Adding level
            resultString += `Level ${item.level}<br>`;
            
            // If the item is a weapon, show damage range
            if (item.minDamage && item.maxDamage) {
                resultString += `${item.minDamage}-${item.maxDamage} Damage<br>`;
            }

            // Adding primary attribute if available
            if (item.primaryAttribute && item.primaryValue) {
                resultString += `+${item.primaryValue} ${item.primaryAttribute}<br>`;
            }

            // Adding secondary attributes
            for (let [attribute, value] of Object.entries(item.secondaryAttributes)) {
                resultString += `+${value} ${attribute}<br>`;
            }

            // Assign the formatted string to the HTML element
            document.getElementById("result").innerHTML = resultString;
        }
    }
    </script>
  </head>
  <body>
    <h1>Advanced Item Generator</h1>
    <form>
      Enter Item Level: <input type="text" id="itemLevel">
      <input type="button" value="Generate Item" onclick="generate()">
    </form>
    <div id="result"></div>
  </body>
</html>
